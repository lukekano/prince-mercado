(this["webpackJsonpbts-app"]=this["webpackJsonpbts-app"]||[]).push([[0],{1016:function(e,t,a){e.exports=a.p+"static/media/hourglass.4fa977f9.png"},1017:function(e,t,a){e.exports=a.p+"static/media/peoples.8b427c54.png"},1018:function(e,t,a){e.exports=a.p+"static/media/trophy.a6513e6b.png"},1033:function(e,t,a){"use strict";a.r(t);a(509),a(510);var n=a(2),r=a.n(n),o=a(55),l=a.n(o),c=(a(516),a(19)),s=a(20),i=a(23),m=a(21),u=a(26),d=a(22),p=(a(517),a(1040)),h=a(1036),g=a(452),E=a(1053),b=a(1041),f=a(1037),y=a(1049),v=a(1042),S=a(1039),w=a(1038),k=a(214),C=a.n(k);function O(e){var t={};return I.currentUser.subscribe((function(e){return t=e})),e.text().then((function(a){var n=a&&JSON.parse(a);if(!e.ok){-1!==[401,403].indexOf(e.status)&&(I.logout(),t&&window.location.reload(!0));var r=n&&n.message||e.statusText;return console.log(n),Promise.reject(r)}return n}))}var D=new(a(1047).a)(JSON.parse(localStorage.getItem("currentUser"))),I={login:function(e,t){var a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})};return fetch("".concat("https://tricycle-monitoring.herokuapp.com","/api/auth/signin"),a).then(O).then((function(e){var t=C()(e.token),a=t.name,n=t.roles,r=t.email,o=t.userId,l={name:a,token:e.token,email:r,userId:o,roles:n.map((function(e){return e.authority}))};return localStorage.setItem("currentUser",JSON.stringify(l)),D.next(l),e}))},logout:function(){localStorage.removeItem("currentUser"),D.next(null)},currentUser:D.asObservable(),get currentUserValue(){return D.value}};a(520);var j=a(1048),L=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault();var t=e.target.Email.value;a.requestPasswordReset(t)},a.setAlertVisibility=function(e){a.setState({isShowAlert:e})},a.state={isLoading:!1,isShowAlert:!1,alertMessage:"",requestResetSuccess:!1},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"requestPasswordReset",value:function(e){var t=this;this.setState({isLoading:!0}),fetch("".concat("https://tricycle-monitoring.herokuapp.com","/api/auth/resetPassword?email=").concat(e),{method:"POST",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){t.setState({isLoading:!1,requestResetSuccess:e.success,isShowAlert:!0,alertMessage:e.message})})).catch((function(e){console.log(e),t.setState({isLoading:!1,isShowAlert:!0,alertMessage:"Something went wrong!"})}))}},{key:"componentWillUnmount",value:function(){console.log("unmount")}},{key:"componentDidMount",value:function(){console.log("mounted")}},{key:"render",value:function(){var e=this,t=this.state,a=t.isLoading,n=t.isShowAlert,o=t.alertMessage,l=t.requestResetSuccess;return r.a.createElement(j.a,{show:this.props.show,onHide:this.props.onHide,size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0},r.a.createElement(j.a.Header,{closeButton:!0},r.a.createElement(j.a.Title,null,"Forgot password")),r.a.createElement(j.a.Body,null,r.a.createElement("h6",null,"A message will be sent to your e-mail address with further instructions"),r.a.createElement(h.a,null,r.a.createElement(g.a,null,r.a.createElement(f.a,{variant:l?"success":"danger",show:n,onClose:function(){return e.setAlertVisibility(!1)},dismissible:!l},r.a.createElement("p",null,o)))),!l&&r.a.createElement(y.a,{onSubmit:this.handleSubmit},r.a.createElement(y.a.Group,{as:h.a,controlId:"Email"},r.a.createElement(g.a,{sm:12},r.a.createElement(y.a.Control,{type:"email",placeholder:"Email",required:!0}))),r.a.createElement(y.a.Group,{as:h.a},r.a.createElement(g.a,null,a?r.a.createElement(w.a,{animation:"grow",variant:"primary",style:{display:"flex",margin:"0 auto"}}):r.a.createElement(S.a,{variant:"primary",type:"submit",block:!0},"Reset Password"))))))}}]),t}(n.Component),R=a(83),N=a(147),T=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).handleSubmit=function(e){a.setState({isLoading:!0}),e.preventDefault(),a.signin(e.target.Email.value,e.target.Password.value)},a.setAlertVisibility=function(e){a.setState({isShowAlert:e})},I.currentUserValue&&a.props.history.push("/book"),a.state={isLoading:!1,isShowAlert:!1,showForgotPasswordModal:!1,showPass:!1},a.handleSubmit=a.handleSubmit.bind(Object(u.a)(a)),a.setAlertVisibility=a.setAlertVisibility.bind(Object(u.a)(a)),a.login=a.login.bind(Object(u.a)(a)),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"login",value:function(e){var t=this;fetch("".concat("https://tricycle-monitoring.herokuapp.com","/api/auth/signin"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){t.setState({isLoading:!1}),console.log(e),e.error||console.log(C()(e.accessToken))})).catch((function(e){t.setState({isLoading:!1}),console.log(e)}))}},{key:"signin",value:function(e,t){var a=this;I.login(e,t).then((function(e){var t=(a.props.location.state||{from:{pathname:"/"}}).from;a.props.history.push(t)}),(function(e){a.setState({isLoading:!1,isShowAlert:!0}),console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.isLoading,o=t.isShowAlert,l=t.showForgotPasswordModal,c=t.showPass;return r.a.createElement("div",{className:"page login-bg"},r.a.createElement(p.a,null,r.a.createElement(h.a,null,r.a.createElement(g.a,null,r.a.createElement(E.a,{style:{width:"18rem",marginLeft:"auto",marginRight:"auto"},className:"text-center shadow"},r.a.createElement(b.a,{src:a(325),style:{width:"100px",marginTop:"40px"},fluid:!0,rounded:!0}),r.a.createElement(E.a.Body,null,r.a.createElement(E.a.Title,null,"".concat("Incident Reporting System")),r.a.createElement(h.a,null,r.a.createElement(g.a,null,r.a.createElement(f.a,{variant:"danger",show:o,onClose:function(){return e.setAlertVisibility(!1)},dismissible:!0},r.a.createElement("p",null,"incorrect username / password.")))),r.a.createElement(y.a,{onSubmit:this.handleSubmit},r.a.createElement(y.a.Group,{as:h.a,controlId:"Email"},r.a.createElement(g.a,null,r.a.createElement(v.a,null,r.a.createElement(v.a.Prepend,null,r.a.createElement(v.a.Text,null,r.a.createElement(N.b,null))),r.a.createElement(y.a.Control,{type:"text",placeholder:"Email",required:!0})))),r.a.createElement(y.a.Group,{as:h.a,controlId:"Password"},r.a.createElement(g.a,null,r.a.createElement(v.a,null,r.a.createElement(v.a.Prepend,null,r.a.createElement(v.a.Text,null,r.a.createElement(N.c,null))),r.a.createElement(y.a.Control,{type:c?"text":"password",placeholder:"Password",minLength:6,required:!0}),r.a.createElement(v.a.Append,null,r.a.createElement(S.a,{variant:"light",className:"p-1",onClick:function(){return e.setState({showPass:!c})}},c?r.a.createElement(R.b,null):r.a.createElement(R.a,null)))),r.a.createElement(S.a,{variant:"link",onClick:function(){return e.setState({showForgotPasswordModal:!0})}},"Forgot password?"))),r.a.createElement(y.a.Group,{as:h.a},r.a.createElement(g.a,null,n?r.a.createElement(w.a,{animation:"grow",variant:"primary",style:{display:"flex",margin:"0 auto"}}):r.a.createElement(S.a,{variant:"primary",type:"submit",block:!0},"Login")))))))),l&&r.a.createElement(L,{show:l,onHide:function(){return e.setState({showForgotPasswordModal:!1})}})))}}]),t}(n.Component),x=a(145),P=a(107),M=a(506),A=function(e){var t=e.component,a=Object(M.a)(e,["component"]);return r.a.createElement(P.b,Object.assign({},a,{render:function(e){return I.currentUserValue?r.a.createElement(t,e):r.a.createElement(P.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},B=a(456),F=a(1052),U=a(1045),H=a(175),G=a(141),W=a.n(G),z=a(1050),Y=a(507);function J(){var e=I.currentUserValue;return e&&e.token?{Authorization:"Bearer ".concat(e.token)}:{}}var V=a(57),q=Object(V.a)(),K=a(117),Q=a.n(K),Z=a(68),X=a(1043),$=a(1044),_=(a(567),a(570),a(310)),ee=(a(178),a(118)),te=a.n(ee),ae=a(221),ne=a(13),re=a(79),oe=a.n(re),le=a(27),ce=a.n(le),se=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).renderSummary=function(e){return null!=e&&null!=e.incidentSummary?r.a.createElement(ne.g,{style:ie.underLined},e.incidentSummary):r.a.createElement(ne.h,null,r.a.createElement(ne.h,{style:ie.line}),r.a.createElement(ne.h,{style:ie.line}),r.a.createElement(ne.h,{style:ie.line}),r.a.createElement(ne.h,{style:ie.line}),r.a.createElement(ne.h,{style:ie.line}),r.a.createElement(ne.h,{style:ie.line}))},a.renderRemarks=function(e){return null!=e&&"null"!=e.resolveRemarks?r.a.createElement(ne.g,{style:ie.underLined},e.resolveRemarks):r.a.createElement(ne.h,null,r.a.createElement(ne.h,{style:ie.line}),r.a.createElement(ne.h,{style:ie.line}),r.a.createElement(ne.h,{style:ie.line}),r.a.createElement(ne.h,{style:ie.line}),r.a.createElement(ne.h,{style:ie.line}),r.a.createElement(ne.h,{style:ie.line}))},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.complaint;return(r.a.createElement(ne.d,{width:"100%",height:"1300"},r.a.createElement(ne.a,{title:"ComplaintSheet"},r.a.createElement(ne.e,{debug:ie.debug,style:ie.page,size:"LEGAL"},r.a.createElement(ne.h,{debug:ie.debug,style:ie.header},r.a.createElement(ne.g,{style:ie.headerText,fixed:!0},"Republic of the Philippines"),r.a.createElement(ne.g,{style:ie.headerTitle},"CITY TRAFFIC MANAGEMENT OFFICE"),r.a.createElement(ne.g,{style:ie.headerText},"City of San Pablo"),r.a.createElement(ne.g,{style:ie.headerText},"Tel No. (049)503-2200"),r.a.createElement(ne.c,{style:ie.headerLogo,src:a(763)})),r.a.createElement(ne.h,{debug:ie.debug,style:ie.controlNo},r.a.createElement(ne.g,{style:ie.controlNoText},"Control No. "),r.a.createElement(ne.g,{style:ie.controlNoInput},e?e.controlNo:" ")),r.a.createElement(ne.g,{debug:ie.debug,style:ie.title},"COMPLAINT SHEET"),r.a.createElement(ne.h,{debug:ie.debug,style:ie.form},r.a.createElement(ne.h,{debug:ie.debug,style:ie.formColumn},r.a.createElement(ne.g,{style:ie.formLabel},"Date:"),r.a.createElement(ne.g,{style:ie.formLabel},"Name of Complainant:"),r.a.createElement(ne.g,{style:ie.formLabel},"Address of Complainant:"),r.a.createElement(ne.g,{style:ie.formLabel},"Contact No/s:"),r.a.createElement(ne.g,{style:ie.formLabel},"MTOP No Complaint with:"),r.a.createElement(ne.g,{style:ie.formLabel},"Date of Incident:"),r.a.createElement(ne.g,{style:ie.formLabel},"Place of Incident:")),r.a.createElement(ne.h,{debug:ie.debug,style:ie.formColumn},r.a.createElement(ne.g,{style:ie.formInput},e?"".concat(e.createdDate?ce()(e.createdDate).format("LL"):" "):" "),r.a.createElement(ne.g,{style:ie.formInput},e?"".concat(e.complainant?e.complainant:" "):" "),r.a.createElement(ne.g,{style:ie.formInput},e?"".concat(e.address?e.address:" "):" "),r.a.createElement(ne.g,{style:ie.formInput},e?"".concat(e.contact?e.contact:" "):" "),r.a.createElement(ne.g,{style:ie.formInput},e?"".concat(e.mtopNo?e.mtopNo:" "):" "),r.a.createElement(ne.g,{style:ie.formInput},e?"".concat(e.incidentDate?ce()(e.incidentDate).format("LL"):" "):" "),r.a.createElement(ne.g,{style:ie.formInput},e?"".concat(e.incidentPlace?e.incidentPlace:" "):" "))),r.a.createElement(ne.h,{debug:ie.debug,style:ie.incidentBody},r.a.createElement(ne.h,{debug:ie.debug,style:ie.formColumn},r.a.createElement(ne.g,{debug:ie.debug,style:ie.formLabel},"Summary of Incident:"))),this.renderSummary(e),r.a.createElement(ne.h,{debug:ie.debug,style:ie.signature},e?r.a.createElement(ne.c,{debug:ie.debug,style:ie.signatureImage,src:"".concat("https://tricycle-monitoring.herokuapp.com","/api/report/signature/").concat(e.reportId)}):null,r.a.createElement(ne.g,{debug:ie.debug,style:ie.signatureText},"Signature of Complainant")),r.a.createElement(ne.h,{style:ie.dashLine}),r.a.createElement(ne.h,{debug:ie.debug,style:ie.form},r.a.createElement(ne.h,{debug:ie.debug,style:ie.formColumn},r.a.createElement(ne.g,{style:ie.formLabel},"Received By:"),r.a.createElement(ne.g,{style:ie.formLabel},"Date Received:"),r.a.createElement(ne.g,{style:ie.formLabel},"Date Settled:")),r.a.createElement(ne.h,{debug:ie.debug,style:ie.formColumn},r.a.createElement(ne.g,{style:ie.formInput},e?"".concat("null"!=e.processBy?e.processBy:" "):" "),r.a.createElement(ne.g,{style:ie.formInput},e?"".concat("null"!=e.processedDate?ce()(e.processedDate).format("LL"):" "):" "),r.a.createElement(ne.g,{style:ie.formInput},e?"".concat("null"!=e.resolvedDate?ce()(e.resolvedDate).format("LL"):" "):" "))),r.a.createElement(ne.h,{debug:ie.debug,style:ie.incidentBody},r.a.createElement(ne.h,{debug:ie.debug,style:ie.formColumn},r.a.createElement(ne.g,{debug:ie.debug,style:ie.formLabel},"REMARKS / ACTION TAKEN:"))),this.renderRemarks(e)))))}}]),t}(n.Component);ne.b.register({fontWeight:"bold"});var ie=ne.f.create({debug:!1,page:{padding:50},header:{fontSize:12,fontFamily:"Times-Roman"},headerTitle:{fontSize:17,textAlign:"center",fontFamily:"Times-Bold"},headerText:{textAlign:"center"},headerLogo:{position:"absolute",width:60,height:60,left:15},controlNo:{flexDirection:"row",fontSize:12,fontFamily:"Helvetica",marginTop:30,alignSelf:"flex-end",justifySelf:"flex-end"},controlNoInput:{borderBottomWidth:1,borderBottomColor:"#000",borderBottomStyle:"solid",width:100,textAlign:"center"},title:{textAlign:"center",fontSize:17,fontFamily:"Helvetica-Bold",marginTop:30,marginBottom:30},form:{flexDirection:"row",fontSize:12,fontFamily:"Helvetica"},formColumn:{flexDirection:"column"},formLabel:{flexDirection:"column",marginTop:5},formInput:{borderBottomWidth:1,borderBottomColor:"#000",borderBottomStyle:"solid",width:350,marginLeft:20,marginTop:4},incidentBody:{flexDirection:"row",fontSize:12,fontFamily:"Helvetica",marginTop:30},underLined:{textAlign:"justify",marginTop:15,textDecoration:"underline",lineHeight:2,fontSize:12},signature:{fontSize:12,fontFamily:"Helvetica",marginTop:50,alignSelf:"flex-end",width:200,textAlign:"center"},signatureText:{borderTopWidth:1,borderTopColor:"#000",borderTopStyle:"solid"},signatureImage:{width:"auto",height:"50px"},dashLine:{borderTopWidth:1,borderTopColor:"#000",borderTopStyle:"dashed",textAlign:"justify",marginTop:30,marginBottom:30},line:{borderTopWidth:1,borderTopColor:"#000",borderTopStyle:"solid",textAlign:"justify",marginTop:20}}),me=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).onClickAddCtrlNo=function(){a.setState({complaint:a.props.complaint})},a.onHide=function(){a.setState({complaint:{}}),a.props.onHide()},a.updateCtrlNo=function(e){a.props.complaint.controlNo=e,a.setState({complaint:a.props.complaint})},a.updateComplaint=function(e){a.setState({complaint:a.props.complaint}),a.setState((function(t){return{complaint:Object(Z.a)({},t.complaint,{mtopNo:e.mtopNo,controlNo:e.controlNo})}})),a.setState({isSavingForm:!1})},a.onSaveEditComplaintForm=function(e){a.setState({isSavingForm:!0}),e.preventDefault();var t={controlNo:e.target.controlNo.value,mtopNo:e.target.mtopNo.value};a.updateComplaint(t)},a.state={complaint:{},isSavingForm:!1},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state;e.complaint,e.isSavingForm;return r.a.createElement(j.a,Object(ae.a)({show:this.props.show,onHide:this.props.onHide,size:"lg","aria-labelledby":"contained-modal-title-vcenter"},"onHide",this.onHide),r.a.createElement(j.a.Header,{closeButton:!0},r.a.createElement(j.a.Title,null,this.props.complaint.reportId)),r.a.createElement(j.a.Body,null,r.a.createElement(h.a,null,r.a.createElement(g.a,null,r.a.createElement(se,{complaint:this.props.complaint})))))}}]),t}(n.Component),ue=a(125);a(770);function de(){return r.a.createElement("div",{className:"loader"})}var pe=a(86),he=a(87),ge=a(312),Ee={fadeIn:{animation:"x 0.7s",animationName:he.a.keyframes(pe.fadeIn,"fadeIn"),width:"100%"}},be=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).getReportById=function(){a.setState({isLoading:!0}),fetch("".concat("https://tricycle-monitoring.herokuapp.com","/api/report/").concat(a.props.reportId),{method:"GET",headers:J()}).then(O).then((function(e){console.log(e),a.setState({isLoading:!1,report:e})})).catch((function(e){a.setState({isLoading:!1}),console.log(e)}))},a.toggleHover=function(){a.setState((function(e){return{hover:!e.hover}}))},a.onHideReportModal=function(e){a.setState({showReportModal:e})},a.badgeColor=function(){switch(a.state.report.status){case"PENDING":return"warning";case"PROCESSING":return"primary";case"RESOLVED":return"success";default:return"dark"}},a.state={isLoading:!1,report:null,showReportModal:!1,hover:!1,reportImageSrc:"".concat("https://tricycle-monitoring.herokuapp.com","/api/report/pic/").concat(a.props.reportId),reportThumbnailSrc:"".concat("https://tricycle-monitoring.herokuapp.com","/api/report/thumbnail/").concat(a.props.reportId)},a.toggleHover=a.toggleHover.bind(Object(u.a)(a)),a.getReportById=a.getReportById.bind(Object(u.a)(a)),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.getReportById()}),0)}},{key:"render",value:function(){var e=this,t=this.state,n=t.report,o=(t.isLoading,t.hover),l=(t.reportImageSrc,t.reportThumbnailSrc);return r.a.createElement("div",null,r.a.createElement(ge.a,null,n?r.a.createElement("div",{className:"".concat(o?"shadow":"shadow-none","\n         p-3 mt-1 bg-white rounded"),style:Object(Z.a)({transform:o?"scale(1.005)":"scale(1.0)",transition:"transform .2s",width:"auto"},Ee.fadeIn)},r.a.createElement(X.a,null,r.a.createElement(ue.b,null,(function(e){return r.a.createElement(b.a,{src:"".concat("https://tricycle-monitoring.herokuapp.com","/api/user/pic/").concat(n.userId),onLoad:e,onError:function(e){e.target.onerror=null,e.target.src="".concat(a(99))},style:{width:"40px",height:"40px"},roundedCircle:!0})})),r.a.createElement(X.a.Body,null,r.a.createElement(h.a,null,r.a.createElement(g.a,{md:6,style:{lineHeight:"1.2"},className:"ml-3"},r.a.createElement("h6",null,n.reportBy),r.a.createElement($.a,{variant:this.badgeColor()},n.status),r.a.createElement("p",null,"Complaint ID:"," ",r.a.createElement($.a,{variant:"dark"},n.reportId),r.a.createElement("br",null),"null"!=n.incidentType?r.a.createElement(r.a.Fragment,null,"Complaint Type:",n.incidentType,r.a.createElement("br",null)):null,"Incident: ".concat(n.incidentPlace," - ").concat(ce()(n.incidentDate).format("LL"))),r.a.createElement("small",null,"Sent: ",ce()(n.createdDate).calendar())),r.a.createElement(g.a,{md:2,className:"ml-3"},r.a.createElement(ue.b,null,(function(e){return r.a.createElement(b.a,{src:l,fluid:!0,onLoad:e,className:"report-img",rounded:!0})}))),r.a.createElement(g.a,{md:3,className:"ml-3 mt-3"},r.a.createElement(S.a,{variant:"dark",size:"sm",onClick:function(){return e.props.onClickReport(n)},className:"ml-1 mt-1"},"Details"),!("PENDING"===n.status)&&r.a.createElement(S.a,{variant:"info",size:"sm",onClick:function(){return e.props.onClickPrintReport(n)},className:"ml-1 mt-1"},"Print"),"PENDING"===n.status&&r.a.createElement(S.a,{variant:"primary",size:"sm",onClick:function(){return e.props.onClickProcessReport(n)},className:"ml-1 mt-1"},"Process"),!("RESOLVED"===n.status)&&r.a.createElement(S.a,{variant:"danger",size:"sm",onClick:function(){return e.props.onClickResolve(n)},className:"ml-1 mt-1"},"Resolve")))))):r.a.createElement("div",{className:"".concat(o?"shadow":"shadow-none","\n           p-3 mt-1 bg-white rounded"),style:{transform:o?"scale(1.005)":"scale(1.0)",transition:"transform .2s",width:"auto",height:"150px"}},r.a.createElement(de,null))))}},{key:"srcSet",get:function(){return["".concat("https://tricycle-monitoring.herokuapp.com","/api/report/thumbnail/").concat(this.props.reportId,"?w=200&h=200 200w"),"".concat("https://tricycle-monitoring.herokuapp.com","/api/report/thumbnail/").concat(this.props.reportId,"?w=355&h=355 355w"),"".concat("https://tricycle-monitoring.herokuapp.com","/api/report/thumbnail/").concat(this.props.reportId,"?w=481&h=481 481w"),"".concat("https://tricycle-monitoring.herokuapp.com","/api/report/thumbnail/").concat(this.props.reportId,"?w=584&h=584 584w"),"".concat("https://tricycle-monitoring.herokuapp.com","/api/report/thumbnail/").concat(this.props.reportId,"?w=687&h=687 687w"),"".concat("https://tricycle-monitoring.herokuapp.com","/api/report/thumbnail/").concat(this.props.reportId,"?w=770&h=770 770w"),"".concat("https://tricycle-monitoring.herokuapp.com","/api/report/thumbnail/").concat(this.props.reportId,"?w=200&h=200 861w"),"".concat("https://tricycle-monitoring.herokuapp.com","/api/report/thumbnail/").concat(this.props.reportId,"?w=200&h=200 955w"),"".concat("https://tricycle-monitoring.herokuapp.com","/api/report/thumbnail/").concat(this.props.reportId,"?w=200&h=200 1033w"),"".concat("https://tricycle-monitoring.herokuapp.com","/api/report/thumbnail/").concat(this.props.reportId,"?w=200&h=200 1112w"),"".concat("https://tricycle-monitoring.herokuapp.com","/api/report/thumbnail/").concat(this.props.reportId,"?w=200&h=200 1192w"),"".concat("https://tricycle-monitoring.herokuapp.com","/api/report/thumbnail/").concat(this.props.reportId,"?w=200&h=200 1200w")].join(", ")}}]),t}(n.Component),fe=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).badgeColor=function(){switch(a.props.complaint.status){case"PENDING":return"warning";case"PROCESSING":return"primary";case"RESOLVED":return"success";default:return"dark"}},a.state={isLoading:!1,reportImageSrc:"".concat("https://tricycle-monitoring.herokuapp.com","/api/report/pic/").concat(a.props.complaint.reportId)},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=(e.isLoading,e.reportImageSrc,this.props.complaint);return r.a.createElement(j.a,Object.assign({},this.props,{size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),r.a.createElement(j.a.Header,{closeButton:!0},r.a.createElement(j.a.Title,null,"Complaint Details")),r.a.createElement(j.a.Body,null,r.a.createElement(X.a,{className:"mr-5"},r.a.createElement(b.a,{src:"".concat("https://tricycle-monitoring.herokuapp.com","/api/user/pic/").concat(t.userId),onError:function(e){e.target.onerror=null,e.target.src="".concat(a(99))},style:{width:"40px",height:"40px"},roundedCircle:!0}),r.a.createElement(X.a.Body,null,r.a.createElement(h.a,null,r.a.createElement(g.a,{style:{lineHeight:"1"},className:"ml-3"},r.a.createElement("h6",null,r.a.createElement("b",null,"Complainant:")," ",t.reportBy,r.a.createElement("br",null),r.a.createElement("b",null,"Complaint ID:")," ",r.a.createElement($.a,{variant:"dark"},t.reportId),r.a.createElement("br",null),r.a.createElement("b",null,"Complaint Status:")," ",r.a.createElement($.a,{variant:this.badgeColor()},t.status),"null"!=t.incidentType?r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement("b",null,"Complaint Type:"),t.incidentType):null,"PROCESSING"===t.status?r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement("b",null,"Process By:")," ",t.processBy,r.a.createElement("br",null),r.a.createElement("b",null,"Process Date:")," ",ce()(t.incidentDate).format("LL")):null,"RESOLVED"===t.status?r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement("b",null,"Resolved By:")," ",t.resolveBy,r.a.createElement("br",null),r.a.createElement("b",null,"Resolved Date:")," ",ce()(t.resolvedDate).format("LL")):null,r.a.createElement("br",null),r.a.createElement("b",null,"Contact No:")," ",t.contact,r.a.createElement("br",null),r.a.createElement("b",null,"Complainant Address:")," ",t.address,r.a.createElement("br",null),r.a.createElement("b",null,"Date of Incident:")," ",ce()(t.incidentDate).format("LL"),r.a.createElement("br",null),r.a.createElement("b",null,"Place of Incident:")," ",t.incidentPlace,r.a.createElement("br",null),r.a.createElement("b",null,"Complaint Summary:")," ",r.a.createElement(te.a,{lines:2,more:"more",less:"less",anchorClass:"",expanded:!1},t.incidentSummary),r.a.createElement("b",null,"Sent:")," ",ce()(t.createdDate).format("LLL")),r.a.createElement(_.a,Object.assign({smallImage:{alt:"report image",src:"".concat("https://tricycle-monitoring.herokuapp.com","/api/report/thumbnail/").concat(t.reportId),isFluidWidth:!0,srcSet:this.srcSet,sizes:"(max-width: 480px) 100vw, (max-width: 1200px) 50vw, 500px"},largeImage:{src:"".concat("https://tricycle-monitoring.herokuapp.com","/api/report/pic/").concat(t.reportId),width:700,height:700},enlargedImagePosition:"over",enlargedImageContainerDimensions:{width:"200%",height:"200%"}},{className:"mt-3 mb-3 shadow-sm"}))))))))}},{key:"srcSet",get:function(){return["".concat("https://tricycle-monitoring.herokuapp.com","/api/report/thumbnail/").concat(this.props.complaint.reportId," 200w"),"".concat("https://tricycle-monitoring.herokuapp.com","/api/report/thumbnail/").concat(this.props.complaint.reportId," 355w")].join(", ")}}]),t}(n.Component),ye=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).processComplaint=function(e){e.preventDefault(),a.setState({isLoading:!0});var t={headers:J(),method:"POST"};t.body=new FormData,t.body.append("reportId",a.props.complaint.reportId),t.body.append("processRemarks",e.target.ProcessRemarks.value),fetch("".concat("https://tricycle-monitoring.herokuapp.com","/api/report/process"),t).then(O).then((function(e){console.log(e),a.setState({isLoading:!1,isShowAlert:!0,alertMessage:e.message}),a.props.onFinish(e.message)})).catch((function(e){a.setState({isLoading:!1,isShowAlert:!0,alertMessage:e}),console.log(e)}))},a.onChange=function(e){var t=e.target,n=t.name,r=t.value,o=Object.assign({},a.state.user);o[n]=r,a.setState({user:o}),console.log(a.state.user)},a.onSubmit=function(e){e.preventDefault(),a.props.handleSubmit(a.state.user,a.state.screenShot)},a.onCapture=function(e){a.setState({showCamera:!1,screenShot:e})},a.badgeColor=function(){switch(a.props.complaint.status){case"PENDING":return"warning";case"PROCESSING":return"primary";case"CLOSED":return"success";default:return"dark"}},a.state={isLoading:!1,success:!1,isShowAlert:!1,alertMessage:""},a.processComplaint=a.processComplaint.bind(Object(u.a)(a)),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.isLoading,t=this.props.complaint;return r.a.createElement(j.a,{show:this.props.show,onHide:this.props.onHide,size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0},r.a.createElement(j.a.Header,{closeButton:!0},r.a.createElement(j.a.Title,null,"Process Complaint")),r.a.createElement(j.a.Body,null,r.a.createElement(X.a,{className:"mr-5"},r.a.createElement(b.a,{src:"".concat("https://tricycle-monitoring.herokuapp.com","/api/user/pic/").concat(t.userId),onError:function(e){e.target.onerror=null,e.target.src="".concat(a(99))},style:{width:"40px",height:"40px"},roundedCircle:!0}),r.a.createElement(ue.a,{height:300,width:300},(function(e){return console.log("fade in onLoad")})),r.a.createElement(X.a.Body,null,r.a.createElement(h.a,null,r.a.createElement(g.a,{style:{lineHeight:"1"},className:"ml-3"},r.a.createElement("h6",null,r.a.createElement("b",null,"Complaint ID:")," ",r.a.createElement($.a,{variant:"dark"},t.reportId),r.a.createElement("br",null),r.a.createElement("b",null,"Complaint Status:")," ",r.a.createElement($.a,{variant:this.badgeColor()},t.status),r.a.createElement("br",null),r.a.createElement("b",null,"Complainant:")," ",t.reportBy,r.a.createElement("br",null),r.a.createElement("b",null,"Contact No:")," ",t.contact,r.a.createElement("br",null),r.a.createElement("b",null,"Complainant Address:")," ",t.address,r.a.createElement("br",null),r.a.createElement("b",null,"Date of Incident:")," ",ce()(t.incidentDate).format("LL"),r.a.createElement("br",null),r.a.createElement("b",null,"Place of Incident:")," ",t.incidentPlace,r.a.createElement("br",null),r.a.createElement("b",null,"Complaint Summary:")," ",r.a.createElement(te.a,{lines:2,more:"more",less:"less",anchorClass:"",expanded:!1},t.incidentSummary),r.a.createElement("b",null,"Date Received:")," ",ce()(t.createdDate).format("LL")),r.a.createElement(b.a,{src:"".concat("https://tricycle-monitoring.herokuapp.com","/api/report/thumbnail/").concat(t.reportId),fluid:!0,style:{height:"200px",width:"200px",background:"#fff",objectFit:"contain",marginBottom:"10px"},rounded:!0}),r.a.createElement(y.a,{onSubmit:this.processComplaint},r.a.createElement(y.a.Group,{as:h.a,controlId:"ProcessRemarks"},r.a.createElement(g.a,null,r.a.createElement(y.a.Control,{placeholder:"Remarks",as:"textarea",required:!0,rows:"3"}))),r.a.createElement(y.a.Group,{as:h.a},r.a.createElement(g.a,null,e?r.a.createElement(w.a,{animation:"border",variant:"primary"}):r.a.createElement(S.a,{variant:"primary",type:"submit"},"Process"))))))))))}}]),t}(n.Component),ve=function(e){return r.a.createElement(j.a,{show:e.show,onHide:e.onHide,size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0},r.a.createElement(j.a.Header,{closeButton:!0},r.a.createElement(j.a.Title,{id:"contained-modal-title-vcenter"},e.toastData?e.toastData.title:"Title")),r.a.createElement(j.a.Body,null,e.toastData?e.toastData.message:"Message"),r.a.createElement(j.a.Footer,null,r.a.createElement(S.a,{onClick:e.onHide,variant:"danger"},"Close")))},Se=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).resolveComplaint=function(e){e.preventDefault(),a.setState({isLoading:!0});var t={headers:J(),method:"POST"};t.body=new FormData,t.body.append("reportId",a.props.complaint.reportId),t.body.append("resolveRemarks",e.target.ResolveRemarks.value),fetch("".concat("https://tricycle-monitoring.herokuapp.com","/api/report/resolve"),t).then(O).then((function(e){console.log(e),a.setState({isLoading:!1,isShowAlert:!0,alertMessage:e.message}),a.props.onFinish(e.message)})).catch((function(e){a.setState({isLoading:!1,isShowAlert:!0,alertMessage:e}),console.log(e)}))},a.onChange=function(e){var t=e.target,n=t.name,r=t.value,o=Object.assign({},a.state.user);o[n]=r,a.setState({user:o}),console.log(a.state.user)},a.onSubmit=function(e){e.preventDefault(),a.props.handleSubmit(a.state.user,a.state.screenShot)},a.onCapture=function(e){a.setState({showCamera:!1,screenShot:e})},a.badgeColor=function(){switch(a.props.complaint.status){case"PENDING":return"warning";case"PROCESSING":return"primary";case"CLOSED":return"success";default:return"dark"}},a.state={isLoading:!1,success:!1,isShowAlert:!1,alertMessage:""},a.resolveComplaint=a.resolveComplaint.bind(Object(u.a)(a)),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.isLoading,t=this.props.complaint;return r.a.createElement(j.a,{show:this.props.show,onHide:this.props.onHide,size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0},r.a.createElement(j.a.Header,{closeButton:!0},r.a.createElement(j.a.Title,null,"Resolve Complaint")),r.a.createElement(j.a.Body,null,r.a.createElement(X.a,{className:"mr-5"},r.a.createElement(b.a,{src:"".concat("https://tricycle-monitoring.herokuapp.com","/api/user/pic/").concat(t.userId),onError:function(e){e.target.onerror=null,e.target.src="".concat(a(99))},style:{width:"40px",height:"40px"},roundedCircle:!0}),r.a.createElement(X.a.Body,null,r.a.createElement(h.a,null,r.a.createElement(g.a,{style:{lineHeight:"1"},className:"ml-3"},r.a.createElement("h6",null,r.a.createElement("b",null,"Complaint ID:")," ",r.a.createElement($.a,{variant:"dark"},t.reportId),r.a.createElement("br",null),r.a.createElement("b",null,"Complaint Status:")," ",r.a.createElement($.a,{variant:this.badgeColor()},t.status),"PROCESSING"===t.status?r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement("b",null,"Process By:")," ",t.processBy,r.a.createElement("br",null),r.a.createElement("b",null,"Process Date:")," ",ce()(t.incidentDate).format("LL")):null,"RESOLVED"===t.status?r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("b",null,"Resolved By:")," ",t.resolveBy,r.a.createElement("br",null),r.a.createElement("b",null,"Resolved Date:")," ",ce()(t.resolvedDate).format("LL")):null,r.a.createElement("br",null),r.a.createElement("b",null,"Complainant:")," ",t.reportBy,r.a.createElement("br",null),r.a.createElement("b",null,"Contact No:")," ",t.contact,r.a.createElement("br",null),r.a.createElement("b",null,"Complainant Address:")," ",t.address,r.a.createElement("br",null),r.a.createElement("b",null,"Date of Incident:")," ",ce()(t.incidentDate).format("LL"),r.a.createElement("br",null),r.a.createElement("b",null,"Place of Incident:")," ",t.incidentPlace,r.a.createElement("br",null),r.a.createElement("b",null,"Complaint Summary:")," ",r.a.createElement(te.a,{lines:2,more:"more",less:"less",anchorClass:"",expanded:!1},t.incidentSummary),r.a.createElement("b",null,"Date Received:")," ",ce()(t.createdDate).format("LL")),r.a.createElement(b.a,{src:"".concat("https://tricycle-monitoring.herokuapp.com","/api/report/thumbnail/").concat(t.reportId),fluid:!0,style:{height:"200px",width:"200px",background:"#fff",objectFit:"contain",marginBottom:"10px"},rounded:!0}),r.a.createElement(y.a,{onSubmit:this.resolveComplaint},r.a.createElement(y.a.Group,{as:h.a,controlId:"ResolveRemarks"},r.a.createElement(g.a,null,r.a.createElement(y.a.Control,{placeholder:"Remarks",as:"textarea",required:!0,rows:"3"}))),r.a.createElement(y.a.Group,{as:h.a},r.a.createElement(g.a,null,e?r.a.createElement(w.a,{animation:"border",variant:"danger"}):r.a.createElement(S.a,{variant:"danger",type:"submit"},"Resolve"))))))))))}}]),t}(n.Component),we=a(171),ke=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).onSearch=function(e){e.preventDefault(),console.log(a.state.reportIdToSearch),a.getRecentReports()},a.onSelectComplaintType=function(e){a.setState({complaintTypeToSearch:e.target.value}),e.target.value.includes("All")&&a.setState({complaintTypeToSearch:""})},a.state={reportIds:[],isLoading:!1,selectedReport:{},showReportModal:!1,showProcessModal:!1,showPdfModal:!1,showResolveModal:!1,showToast:!1,toastData:{},reportIdToSearch:"",complaintTypeToSearch:"",complaintTypes:[]},a.getRecentReports=a.getRecentReports.bind(Object(u.a)(a)),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"getRecentReports",value:function(){var e=this;this.setState({isLoading:!0}),fetch("".concat("https://tricycle-monitoring.herokuapp.com","/api/reportIds?reportStatus=").concat(this.props.reportStatus,"&reportId=").concat(this.state.reportIdToSearch,"&incidentType=").concat(this.state.complaintTypeToSearch),{method:"GET",headers:J()}).then(O).then((function(t){console.log(t),e.setState({isLoading:!1,reportIds:[]}),e.setState({reportIds:t})})).catch((function(t){e.setState({isLoading:!1}),console.log(t)}))}},{key:"getComplaintTypes",value:function(){var e=this;fetch("".concat("https://tricycle-monitoring.herokuapp.com","/api/reportTypes"),{method:"GET",headers:J()}).then(O).then((function(t){console.log(t),e.setState({complaintTypes:[]}),e.setState({complaintTypes:t})})).catch((function(e){console.log(e)}))}},{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),setTimeout((function(){e.getRecentReports(),e.getComplaintTypes()}),500)}},{key:"render",value:function(){var e=this,t=this.state,a=t.reportIds,n=t.isLoading,o=t.showReportModal,l=t.showProcessModal,c=t.showPdfModal,s=t.showResolveModal,i=t.selectedReport,m=t.showToast,u=t.toastData,d=t.complaintTypes;t.complaintTypeToSearch;return r.a.createElement(r.a.Fragment,null,r.a.createElement(z.a,{className:"shadow-sm bg-white justify-content-left"},r.a.createElement(z.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(z.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(Y.a,{className:"mr-auto"}),r.a.createElement(y.a,{onSubmit:this.onSearch,inline:!0},r.a.createElement(y.a.Control,{className:"mr-sm-2",as:"select",onChange:this.onSelectComplaintType},r.a.createElement("option",null,"Complaint Type - All"),d.map((function(e,t){return r.a.createElement("option",{key:t},e)}))),r.a.createElement(y.a.Control,{name:"complaintId",type:"text",value:this.state.reportIdToSearch,onChange:function(t){return e.setState({reportIdToSearch:t.target.value})},placeholder:"Complaint ID - All",className:"mr-sm-2"}),n?r.a.createElement(w.a,{variant:"primary",animation:"border"}):r.a.createElement(S.a,{type:"submit"},"Search")))),r.a.createElement(oe.a,{className:"overflow-scrolling"},this.props.enableSocket&&""==this.state.reportIdToSearch&&r.a.createElement(W.a,{url:"".concat("https://tricycle-monitoring.herokuapp.com","/ctmo-websocket"),topics:["/topic/report"],onMessage:function(t){console.log(t),e.setState({reportIds:[t].concat(Object(H.a)(a))}),e.getComplaintTypes()},ref:function(t){e.clientRef=t}}),n?"":"".concat(a.length<=0?"No Records Found":""),a.map((function(t){return r.a.createElement(Q.a,{height:200,offset:-100,key:t,overflow:!0},r.a.createElement(be,{reportId:t,key:t,onClickReport:function(t){return e.setState({showReportModal:!0,selectedReport:t})},onClickProcessReport:function(t){return e.setState({showProcessModal:!0,selectedReport:t})},onClickPrintReport:function(t){return e.setState({showPdfModal:!0,selectedReport:t})},onClickResolve:function(t){return e.setState({showResolveModal:!0,selectedReport:t})}}))})),r.a.createElement(me,{show:c,onHide:function(){return e.setState({showPdfModal:!1})},complaint:i}),r.a.createElement(fe,{show:o,onHide:function(){return e.setState({showReportModal:!1})},complaint:i}),l&&r.a.createElement(ye,{show:l,onHide:function(){return e.setState({showProcessModal:!1})},complaint:i,onFinish:function(t){e.setState({showToast:!0,toastData:{title:"",message:t},showProcessModal:!1}),e.getRecentReports()}}),s&&r.a.createElement(Se,{show:s,onHide:function(){return e.setState({showResolveModal:!1})},complaint:i,onFinish:function(t){e.setState({showToast:!0,toastData:{title:"",message:t},showResolveModal:!1}),e.getRecentReports()}}),m&&r.a.createElement(ve,{show:m,onHide:function(){return e.setState({showToast:!1})},toastData:u})))}}]),t}(n.Component),Ce=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={complaint:{createdDate:"October 12, 2019",controlNo:"34125",complainant:"Prince",contact:"09350869115",address:"Pasig",mtop:"124241",incidentDate:"October 10, 2019",incidentPlace:"San Pablo",incidentSummary:"Pulis Patola Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",receivedBy:"CTMO Officer",dateReceived:"October 12, 2019",dateResolved:"October 24, 2019"}},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(p.a,null,r.a.createElement(F.a,{defaultActiveKey:"all",transition:!1,id:"noanim-tab-example",unmountOnExit:!0},r.a.createElement(U.a,{eventKey:"all",title:"All"},r.a.createElement(ke,{reportStatus:"",enableSocket:!0})),r.a.createElement(U.a,{eventKey:"pending",title:"Pending"},r.a.createElement(ke,{reportStatus:"PENDING",enableSocket:!0})),r.a.createElement(U.a,{eventKey:"processing",title:"Processing"},r.a.createElement(ke,{reportStatus:"PROCESSING"})),r.a.createElement(U.a,{eventKey:"resolved",title:"Resolved"},r.a.createElement(ke,{reportStatus:"RESOLVED"})))))}}]),t}(n.Component),Oe=a(321),De=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={},a.logout=a.logout.bind(Object(u.a)(a)),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"logout",value:function(){I.logout(),q.push("/login")}},{key:"navIcon",value:function(e){switch(e.title){case"Dashboard":return r.a.createElement(N.a,{className:"mr-2"});case"Reports":return r.a.createElement(Oe.b,{className:"mr-2"});case"Users":return r.a.createElement(N.d,{className:"mr-2"});case"Analytics":return r.a.createElement(Oe.a,{className:"mr-2"})}}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,null,r.a.createElement(h.a,{className:"justify-content-md-center"},r.a.createElement(g.a,{sm:"auto"},r.a.createElement(b.a,{src:a(325),style:{width:"100px",marginTop:"10px"},className:"center",thumbnail:!0,fluid:!0}))),r.a.createElement("div",{style:{color:"white",margin:"5px"}},"".concat("Incident Reporting System")),this.props.routes.map((function(t){return r.a.createElement(x.b,{key:t.title,activeStyle:{color:"white",background:"rgba(4, 67, 240, 0.823)"},to:t.path,className:"nav-link sidebar-link",onClick:function(){return e.props.onSelect(t.title)}},r.a.createElement("h6",null,e.navIcon(t)," ",t.title))})),r.a.createElement(x.b,{to:"",className:"nav-link sidebar-link",onClick:this.logout},r.a.createElement(R.c,{className:"mr-2"})," Logout")))}}]),t}(n.Component),Ie=a(1051),je=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).userImage=r.a.createRef(),a.focus=a.focus.bind(Object(u.a)(a)),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"focus",value:function(e){this.userImage.current.focus()}},{key:"render",value:function(){var e=this;r.a.createElement(Ie.a,{id:"popover-basic"},r.a.createElement(Ie.a.Title,{as:"h3"}),r.a.createElement(Ie.a.Content,null,r.a.createElement(S.a,{onClick:function(){return alert("logout")},variant:"light"},r.a.createElement(R.c,{className:"mr-2"})," Logout")));return r.a.createElement(z.a,{className:"shadow ".concat(this.props.sideBarDocked?"titlebar-bg":"sidebar-bg"),expand:"lg"},r.a.createElement(Y.a.Item,null,r.a.createElement(Y.a.Link,null,!this.props.sideBarDocked&&r.a.createElement("div",{onClick:this.props.toggleOpen},r.a.createElement("div",{style:Le}),r.a.createElement("div",{style:Le}),r.a.createElement("div",{style:Le})))),r.a.createElement(z.a.Brand,{style:{color:"white"}},this.props.title),r.a.createElement(Y.a,{className:"mr-auto"}),r.a.createElement(Y.a,null,r.a.createElement(ue.a,null,(function(t){return r.a.createElement(b.a,{ref:e.userImage,onLoad:t,src:"".concat("https://tricycle-monitoring.herokuapp.com","/api/user/pic/").concat(e.props.user.userId),style:{width:"25px",height:"25px",pointerEvents:"all"},onError:function(e){e.target.onerror=null,e.target.src="".concat(a(99))},roundedCircle:!0,onClick:function(){return e.userImage.current.focus()}})}))),r.a.createElement(Y.a.Link,{style:{color:"white"}},this.props.user.name))}}]),t}(n.Component),Le={width:"25px",height:"2px",backgroundColor:"white",margin:"3px 0"},Re=(n.Component,a(854),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault();var t=a.props.match.params,n=e.target.NewPassword.value;n===e.target.ConfirmPassword.value?a.changePassword({userId:t.userId,token:t.token,password:n}):a.setState({isShowAlert:!0,alertMessage:"Password does not match!"})},a.setAlertVisibility=function(e){a.setState({isShowAlert:e})},a.state={isLoading:!1,isShowAlert:!1,alertMessage:"",changePasswordSucess:!1,showPass:!1},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){I.logout()}},{key:"changePassword",value:function(e){var t=this;this.setState({isLoading:!0}),fetch("".concat("https://tricycle-monitoring.herokuapp.com","/api/auth/changePassword?userId=").concat(e.userId,"&token=").concat(e.token,"&password=").concat(e.password),{method:"POST",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){t.setState({isLoading:!1,changePasswordSucess:e.success,isShowAlert:!0,alertMessage:e.message})})).catch((function(e){console.log(e)}))}},{key:"willShowLoginButton",value:function(){var e=this;if("admin"===this.props.match.params.role)return r.a.createElement(S.a,{variant:"primary",block:!0,onClick:function(){return e.props.history.push("/login")}},"Login")}},{key:"render",value:function(){var e=this,t=this.state,n=t.isLoading,o=t.isShowAlert,l=t.alertMessage,c=t.changePasswordSucess,s=t.showPass;this.props.match.params;return r.a.createElement("div",{className:"page login-bg"},r.a.createElement(p.a,null,r.a.createElement(h.a,null,r.a.createElement(g.a,null,r.a.createElement(E.a,{style:{width:"18rem",marginLeft:"auto",marginRight:"auto"},className:"text-center shadow-lg"},r.a.createElement(b.a,{src:a(855),style:{width:"100px",marginTop:"40px"},fluid:!0,rounded:!0}),r.a.createElement(E.a.Body,null,r.a.createElement(E.a.Title,null,"Enter New Password"),r.a.createElement(h.a,null,r.a.createElement(g.a,null,r.a.createElement(f.a,{variant:c?"success":"danger",show:o,onClose:function(){return e.setAlertVisibility(!1)},dismissible:!c},r.a.createElement("p",null,l)))),c?this.willShowLoginButton():r.a.createElement(y.a,{onSubmit:this.handleSubmit},r.a.createElement(y.a.Group,{as:h.a,controlId:"NewPassword"},r.a.createElement(g.a,{sm:12},r.a.createElement(y.a.Control,{type:s?"text":"password",placeholder:"New Password",minLength:6,required:!0}))),r.a.createElement(y.a.Group,{as:h.a,controlId:"ConfirmPassword"},r.a.createElement(g.a,null,r.a.createElement(v.a,{className:"mb-3"},r.a.createElement(y.a.Control,{type:s?"text":"password",placeholder:"Confirm Password",minLength:6,required:!0}),r.a.createElement(v.a.Append,null,r.a.createElement(S.a,{variant:"light",className:"p-1",onClick:function(){return e.setState({showPass:!s})}},s?r.a.createElement(R.b,null):r.a.createElement(R.a,null)))))),r.a.createElement(y.a.Group,{as:h.a},r.a.createElement(g.a,null,n?r.a.createElement(w.a,{animation:"grow",variant:"primary",style:{display:"flex",margin:"0 auto"}}):r.a.createElement(S.a,{variant:"primary",type:"submit",block:!0},"Change Password"))))))))))}}]),t}(n.Component)),Ne={fadeIn:{animation:"x 0.7s",animationName:he.a.keyframes(pe.fadeIn,"fadeIn"),width:"100%"}},Te=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).getUserById=function(){a.setState({isLoading:!0}),fetch("".concat("https://tricycle-monitoring.herokuapp.com","/api/user/").concat(a.props.userId),{method:"GET",headers:J()}).then(O).then((function(e){console.log(e),a.setState({isLoading:!1,user:e})})).catch((function(e){a.setState({isLoading:!1}),console.log(e)}))},a.toggleHover=function(){a.setState((function(e){return{hover:!e.hover}}))},a.onHideUserModal=function(e){a.setState({showUserModal:e})},a.state={isLoading:!1,user:null,showUserModal:!1,hover:!1,userImageSrc:"".concat("https://tricycle-monitoring.herokuapp.com","/api/user/pic/").concat(a.props.userId)},a.toggleHover=a.toggleHover.bind(Object(u.a)(a)),a.getUserById=a.getUserById.bind(Object(u.a)(a)),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.getUserById()}),0)}},{key:"render",value:function(){var e=this,t=this.state,n=t.user,o=(t.isLoading,t.hover),l=t.userImageSrc;return r.a.createElement("div",null,r.a.createElement(ge.a,null,n?r.a.createElement("div",{className:"".concat(o?"shadow":"shadow-none","\n         p-3 mt-1 bg-white rounded"),style:Object(Z.a)({transform:o?"scale(1.005)":"scale(1.0)",transition:"transform .2s",width:"auto"},Ne.fadeIn)},r.a.createElement(X.a,null,r.a.createElement(we.FadeIn,null,(function(e){return r.a.createElement(b.a,{onLoad:e,src:l,onError:function(e){e.target.onerror=null,e.target.src="".concat(a(99))},style:{width:"100px",height:"100px"},roundedCircle:!0,thumbnail:!0})})),r.a.createElement(X.a.Body,null,r.a.createElement(h.a,null,r.a.createElement(g.a,{md:6,style:{lineHeight:"1.2"},className:"ml-3"},r.a.createElement("h6",null,n.firstName," ",n.lastName),r.a.createElement("p",null,"Address: ",n.address,r.a.createElement("br",null),"Contact: ",n.contact),r.a.createElement("small",null,"Joined: ",ce()(n.createdDate).calendar())),r.a.createElement(g.a,{md:2,className:"ml-3"}),r.a.createElement(g.a,{md:3,className:"ml-3 mt-3"},r.a.createElement(S.a,{variant:"info",size:"sm",onClick:function(){return e.props.onClickEdit(n)},className:"ml-1 mt-1"},"Edit Details")))))):r.a.createElement("div",{className:"".concat(o?"shadow":"shadow-none","\n           p-3 mt-1 bg-white rounded"),style:{transform:o?"scale(1.005)":"scale(1.0)",transition:"transform .2s",width:"auto",height:"150px"}},r.a.createElement(de,null))))}}]),t}(n.Component),xe=a(453),Pe=a(238),Me=a.n(Pe);a(856);function Ae(e,t,a,n){var r=new FileReader;r.readAsDataURL(e),r.onload=function(e){var r=e.target.result,o=new Image;o.src=r,o.onload=function(){var e=function(e,t,a,n){var r=document.createElement("canvas"),o=e.width,l=e.height;o>l?o>t&&(l=Math.round(l*t/o),o=t):l>a&&(o=Math.round(o*a/l),l=a);return r.width=o,r.height=l,r.getContext("2d").drawImage(e,0,0,o,l),r.toDataURL("image/jpeg",n)}(o,t,a,.7);n(e)}}}var Be=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).handleClick=function(){var e=a.webcam.getScreenshot();a.setState({screenshot:e}),a.props.onCapture(e)},a.onSelectImage=function(e){var t=e.target.files,n=Object(u.a)(a);Ae(t[0],300,300,(function(e){n.setState({screenshot:e})})),e.target.value=""},a.state={screenshot:null,tab:0},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return r.a.createElement(y.a.Group,{as:h.a},r.a.createElement(y.a.Label,{column:!0,sm:4}),r.a.createElement(g.a,{sm:4},r.a.createElement(Me.a,{audio:!1,ref:function(t){return e.webcam=t},screenshotFormat:"image/jpeg",videoConstraints:{width:225,height:225,facingMode:"user"},screenshotQuality:1,mirrored:!0}),r.a.createElement(S.a,{variant:"success",onClick:this.handleClick,style:{width:"225px"}},"Capture")))}}]),t}(n.Component),Fe=(a(857),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).onChange=function(e){var t=e.target,n=t.name,r=t.value,o=Object.assign({},a.state.user);o[n]=void 0!=r?r:"",a.setState({user:o}),console.log(a.state.user)},a.onSubmit=function(e){e.preventDefault(),a.props.handleSubmit(a.state.user,a.state.screenShot)},a.onCapture=function(e){a.setState({showCamera:!1,screenShot:e})},a.onLoad=function(){alert("fadein onload")},a.state={user:e.user||null,role:e.role,showCamera:!1,screenShot:null},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.user,o=t.showCamera,l=t.screenShot,c=this.props.isLoading;return r.a.createElement("div",{className:"container"},r.a.createElement(y.a,{onSubmit:this.onSubmit},o?r.a.createElement(Be,{onCapture:this.onCapture}):r.a.createElement(y.a.Group,{as:h.a},r.a.createElement(y.a.Label,{column:!0,sm:4}),r.a.createElement(g.a,{sm:4},r.a.createElement(b.a,{src:l||"".concat(n.userId?"".concat("https://tricycle-monitoring.herokuapp.com","/api/user/pic/").concat(n.userId):a(99)),onError:function(e){e.target.onerror=null,e.target.src="".concat(a(99))},style:{width:"225px",height:"225px"}}),r.a.createElement(S.a,{variant:"info",style:{width:"225px"},onClick:function(){return e.setState({showCamera:!0})}},"Open Camera"))),r.a.createElement(y.a.Group,{as:h.a,controlId:"FirstName"},r.a.createElement(y.a.Label,{column:!0,sm:3},"FirstName"),r.a.createElement(g.a,{sm:8},r.a.createElement(y.a.Control,{name:"firstName",type:"text",value:n.firstName||"",onChange:this.onChange,minLength:3,required:!0}))),r.a.createElement(y.a.Group,{as:h.a,controlId:"MiddleName"},r.a.createElement(y.a.Label,{column:!0,sm:3},"MiddleName"),r.a.createElement(g.a,{sm:8},r.a.createElement(xe.a,{name:"middleName",type:"text",value:n.middleName||"",onChange:this.onChange,minLength:3}))),r.a.createElement(y.a.Group,{as:h.a,controlId:"LastName"},r.a.createElement(y.a.Label,{column:!0,sm:3},"LastName"),r.a.createElement(g.a,{sm:8},r.a.createElement(y.a.Control,{name:"lastName",type:"text",value:n.lastName||"",onChange:this.onChange,minLength:3,required:!0}))),r.a.createElement(y.a.Group,{as:h.a,controlId:"Email"},r.a.createElement(y.a.Label,{column:!0,sm:3},"Email"),r.a.createElement(g.a,{sm:8},r.a.createElement(y.a.Control,{name:"email",type:"email",value:n.email||"",onChange:this.onChange,minLength:3,required:!0}))),r.a.createElement(y.a.Group,{as:h.a,controlId:"Contact"},r.a.createElement(y.a.Label,{column:!0,sm:3},"Contact"),r.a.createElement(g.a,{sm:8},r.a.createElement(y.a.Control,{name:"contact",type:"text",value:n.contact||"",onChange:this.onChange,maxLength:11,required:!0}))),r.a.createElement(y.a.Group,{as:h.a,controlId:"Address"},r.a.createElement(y.a.Label,{column:!0,sm:3},"Address"),r.a.createElement(g.a,{sm:8},r.a.createElement(y.a.Control,{name:"address",type:"text",value:n.address||"",onChange:this.onChange,minLength:3,required:!0}))),r.a.createElement(y.a.Group,{as:h.a},r.a.createElement(g.a,{sm:{span:8,offset:3}},c?r.a.createElement(w.a,{animation:"border",variant:"info"}):r.a.createElement(S.a,{variant:"info",type:"submit"},"Submit")))))}}]),t}(n.Component)),Ue=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).handleSubmit=function(e,t){a.setState({isLoading:!0}),a.props.title.includes("Add")&&setTimeout((function(){a.addUser(e,t)}),1e3),a.props.title.includes("Edit")&&a.updateUser(e,t)},a.state={isLoading:!1,success:!1,isShowAlert:!1,alertMessage:""},a.handleSubmit=a.handleSubmit.bind(Object(u.a)(a)),a.addUser=a.addUser.bind(Object(u.a)(a)),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"addUser",value:function(e,t){var a=this,n={headers:Object(Z.a)({},J()),method:"POST"};n.body=new FormData,n.body.append("firstName",e.firstName),n.body.append("middleName",e.middleName||""),n.body.append("lastName",e.lastName),n.body.append("email",e.email),n.body.append("contact",e.contact),n.body.append("address",e.address),n.body.append("role",this.props.role),fetch(t).then((function(e){return e.blob()})).then((function(e){var r=new File([e],"filename.jpeg");null!==t&&n.body.append("userPic",r),fetch("".concat("https://tricycle-monitoring.herokuapp.com","/api/auth/signup"),n).then(O).then((function(e){a.setState({isLoading:!1,success:e.success,alertMessage:e.message,isShowAlert:!0}),a.props.onsucess(),console.log(e)})).catch((function(e){a.setState({isLoading:!1,success:!1,alertMessage:e,isShowAlert:!0}),a.props.onsucess(),console.log(e)}))}))}},{key:"updateUser",value:function(e,t){var a=this,n={headers:Object(Z.a)({},J()),method:"PUT"};n.body=new FormData,n.body.append("firstName",e.firstName),n.body.append("middleName",e.middleName||""),n.body.append("lastName",e.lastName),n.body.append("email",e.email),n.body.append("contact",e.contact),n.body.append("address",e.address),fetch(t).then((function(e){return e.blob()})).then((function(r){var o=new File([r],"filename.jpeg");null!==t&&n.body.append("userPic",o),fetch("".concat("https://tricycle-monitoring.herokuapp.com","/api/user/").concat(e.userId),n).then(O).then((function(e){a.setState({isLoading:!1,success:e.success,alertMessage:e.message,isShowAlert:!0}),a.props.onsucess(),console.log(e)})).catch((function(e){a.setState({isLoading:!1,success:!1,alertMessage:e,isShowAlert:!0}),a.props.onsucess(),console.log(e)}))}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.user,n=t.title,o=this.state,l=o.success,c=o.isShowAlert,s=o.alertMessage;return r.a.createElement(j.a,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:this.props.show,onHide:this.props.onHide},r.a.createElement(j.a.Header,{closeButton:!0},r.a.createElement(j.a.Title,{id:"contained-modal-title-vcenter"},n)),r.a.createElement(j.a.Body,null,r.a.createElement(f.a,{variant:l?"success":"danger",show:c,onClose:function(){return e.setState({isShowAlert:!1})},dismissible:!l},r.a.createElement("p",null,s)),!l&&r.a.createElement(Fe,Object.assign({},this.props,{user:a,handleSubmit:this.handleSubmit,isLoading:this.state.isLoading,role:this.props.role}))))}}]),t}(n.Component),He=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).deleteUser=function(e){a.setState({isLoading:!0}),fetch("".concat("https://tricycle-monitoring.herokuapp.com","/api/user/").concat(e.userId),{method:"DELETE",headers:J()}).then(O).then((function(e){console.log(e),a.getUserIds(),a.setState({isLoading:!1,toastData:{title:"Delete User",message:e.message},showToast:!0})})).catch((function(e){a.setState({isLoading:!1,showToast:!0,toastData:{title:"Delete User",message:e}}),console.log(e)}))},a.state={userIds:[],isLoading:!1,selectedUser:{},showEditUserModal:!1,showEditUserModalTitle:"Add ".concat(e.role),toastData:{},showToast:!1},a.getUserIds=a.getUserIds.bind(Object(u.a)(a)),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"getUserIds",value:function(){var e=this;this.setState({isLoading:!0}),fetch("".concat("https://tricycle-monitoring.herokuapp.com","/api/user/Ids/").concat(this.props.roleId),{method:"GET",headers:J()}).then(O).then((function(t){console.log(t),e.setState({isLoading:!1,userIds:[]}),e.setState({userIds:t})})).catch((function(t){e.setState({isLoading:!1}),console.log(t)}))}},{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),setTimeout((function(){e.getUserIds()}),500)}},{key:"render",value:function(){var e=this,t=this.state,a=t.userIds,n=t.isLoading,o=t.selectedUser,l=t.showEditUserModal,c=t.showEditUserModalTitle,s=t.showToast,i=t.toastData;return r.a.createElement(r.a.Fragment,null,r.a.createElement(z.a,{className:"bg-white justify-content-between"},r.a.createElement(y.a,{inline:!0}),r.a.createElement(y.a,{inline:!0},n?r.a.createElement(w.a,{variant:"primary",animation:"border"}):r.a.createElement(S.a,{onClick:function(){return e.setState({showEditUserModal:!0,selectedUser:{},showEditUserModalTitle:"Add ".concat(e.props.role)})}},"+ Add User"))),r.a.createElement(oe.a,{className:"overflow-scrolling"},n?null:"".concat(a.length<=0?"No Records Found":""),a.map((function(t){return r.a.createElement(Q.a,{height:200,offset:-100,key:t,overflow:!0},r.a.createElement(Te,{userId:t,key:t,onClickEdit:function(t){return e.setState({showEditUserModal:!0,selectedUser:t,showEditUserModalTitle:"Edit User"})},onClickDelete:e.deleteUser}))}))),l&&r.a.createElement(Ue,{show:l,onHide:function(){return e.setState({showEditUserModal:!1})},user:o,title:c,onsucess:function(){return e.getUserIds()},role:this.props.role}),s&&r.a.createElement(ve,{show:s,onHide:function(){return e.setState({showToast:!1})},toastData:i}))}}]),t}(n.Component),Ge=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{paddingTop:"2px"}},r.a.createElement(p.a,null,r.a.createElement(F.a,{defaultActiveKey:"appuser",transition:!1,id:"noanim-tab-example",unmountOnExit:!0},r.a.createElement(U.a,{eventKey:"appuser",title:"App Users"},r.a.createElement(He,{role:"user",roleId:1})),r.a.createElement(U.a,{eventKey:"adminuser",title:"Admin Users"},r.a.createElement(He,{role:"admin",roleId:3})))))}}]),t}(n.Component);function We(e,t,a,n){var r=new FileReader;r.readAsDataURL(e),r.onload=function(e){var r=e.target.result,o=new Image;o.src=r,o.onload=function(){var e=function(e,t,a,n){var r=document.createElement("canvas"),o=e.width,l=e.height;o>l?o>t&&(l=Math.round(l*t/o),o=t):l>a&&(o=Math.round(o*a/l),l=a);return r.width=o,r.height=l,r.getContext("2d").drawImage(e,0,0,o,l),r.toDataURL("image/jpeg",n)}(o,t,a,.7);n(e)}}}n.Component,n.Component;var ze=a(322),Ye={slideInLeft:{animation:"x 0.7s",animationName:he.a.keyframes(pe.slideInLeft,"slideInLeft")},slideInRight:{animation:"x 0.7s",animationName:he.a.keyframes(pe.slideInRight,"slideInRight")},zoomIn:{animation:"x 0.7s",animationName:he.a.keyframes(pe.zoomIn,"zoomIn")}},Je=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).getReportsYearly=function(e){a.setState({isLoading:!0}),fetch("".concat("https://tricycle-monitoring.herokuapp.com","/api/report/yearly?year=").concat(e),{method:"GET",headers:J()}).then(O).then((function(e){a.setState({barGraphData:e})})).catch((function(e){console.log(e)}))},a.getStatusYearly=function(e){a.setState({isLoading:!0}),fetch("".concat("https://tricycle-monitoring.herokuapp.com","/api/report/statusYearly?year=").concat(e),{method:"GET",headers:J()}).then(O).then((function(e){a.setState({doughnutData:e})})).catch((function(e){console.log(e)}))},a.onSelectYear=function(e){a.setState({summaryYear:e.target.value}),a.getReportsYearly(e.target.value),a.getStatusYearly(e.target.value)},a.state={doughnutData:[0,0,0],barGraphData:[],summaryYear:2020},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.getReportsYearly(this.state.summaryYear),this.getStatusYearly(this.state.summaryYear)}},{key:"componentWillMount",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(oe.a,{style:{overflow:"auto",padding:"0px",height:"91vh"}},r.a.createElement(ge.a,null,r.a.createElement(p.a,null,r.a.createElement(z.a,{className:"rounded shadow-sm bg-white justify-content-left"},r.a.createElement(z.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(z.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(Y.a,{className:"mr-auto"},r.a.createElement("h4",null,"Incidents for year"),r.a.createElement(y.a,{onSubmit:this.onSearch,inline:!0},r.a.createElement(y.a.Control,{className:"mr-sm-2 ml-2",as:"select",onChange:this.onSelectYear},r.a.createElement("option",null,"2020"),r.a.createElement("option",null,"2019"),r.a.createElement("option",null,"2018"),r.a.createElement("option",null,"2017"),r.a.createElement("option",null,"2016")))))),r.a.createElement(h.a,null,r.a.createElement(g.a,{lg:"4",className:"mt-4"},r.a.createElement("div",{className:"card shadow-sm bg-warning p-2",style:Ye.zoomIn},r.a.createElement("div",{className:"media"},r.a.createElement("img",{className:"align-self-start mr-3",width:"50px",src:a(1016),alt:"Generic placeholder image"}),r.a.createElement("div",{className:"media-body text-white"},r.a.createElement("h4",{className:"mt-0"},this.state.doughnutData[0]),r.a.createElement("h5",null,"Pending"))))),r.a.createElement(g.a,{lg:"4",className:"mt-4"},r.a.createElement("div",{className:"card shadow-sm bg-primary p-2",style:Ye.zoomIn},r.a.createElement("div",{className:"media"},r.a.createElement("img",{className:"align-self-start mr-3",width:"50px",src:a(1017),alt:"Generic placeholder image"}),r.a.createElement("div",{className:"media-body text-white"},r.a.createElement("h4",{className:"mt-0"},this.state.doughnutData[1]),r.a.createElement("h5",null,"Processing"))))),r.a.createElement(g.a,{lg:"4",className:"mt-4"},r.a.createElement("div",{className:"card shadow-sm bg-success p-2",style:Ye.zoomIn},r.a.createElement("div",{className:"media"},r.a.createElement("img",{className:"align-self-start mr-3",width:"50px",src:a(1018),alt:"Generic placeholder image"}),r.a.createElement("div",{className:"media-body text-white"},r.a.createElement("h4",{className:"mt-0"},this.state.doughnutData[2]),r.a.createElement("h5",null,"Resolved")))))),r.a.createElement(h.a,null,r.a.createElement(g.a,{lg:"5",className:"mt-4"},r.a.createElement("div",{className:"card shadow-sm",style:Ye.slideInLeft},r.a.createElement(ze.b,{style:{margin:"auto"},data:{labels:["Pending","Proccessing","Resolved"],datasets:[{data:this.state.doughnutData,backgroundColor:["#f0ad4e","#0275d8","#5cb85c"],hoverBackgroundColor:["#f0ad4e","#0275d8","#5cb85c"]}]},options:{legend:{display:!0,position:"bottom"}}}))),r.a.createElement(g.a,{lg:"7",className:"mt-4"},r.a.createElement("div",{className:"shadow-sm card",style:Ye.slideInRight},r.a.createElement(ze.a,{data:{labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"],datasets:[{label:"Incidents",backgroundColor:"#777",borderColor:"#0275d8",borderWidth:1,hoverBackgroundColor:"#0275d8",hoverBorderColor:"#0275d8",data:this.state.barGraphData}]},options:{legend:{display:!0,position:"bottom"},scales:{yAxes:[{display:!0,ticks:{suggestedMin:0,beginAtZero:!0}}]}}}))))))))}}]),t}(n.Component),Ve=a(503),qe=a.n(Ve),Ke=a(504),Qe=a.n(Ke),Ze=(a(1029),(new Date).getFullYear()),Xe=new Date(Ze-5,0),$e=new Date(Ze,11);function _e(e){for(var t=e.date,a=e.localeUtils,n=e.onChange,o=a.getMonths(),l=[],c=Xe.getFullYear();c<=$e.getFullYear();c+=1)l.push(c);var s=function(e){var t=e.target.form,a=t.year,r=t.month;n(new Date(a.value,r.value))};return r.a.createElement("form",{className:"DayPicker-Caption"},r.a.createElement("select",{name:"month",onChange:s,value:t.getMonth()},o.map((function(e,t){return r.a.createElement("option",{key:e,value:t},e)}))),r.a.createElement("select",{name:"year",onChange:s,value:t.getFullYear()},l.map((function(e){return r.a.createElement("option",{key:e,value:e},e)}))))}function et(e){for(var t=[e],a=1;a<7;a+=1)t.push(ce()(e).add(a,"days").toDate());return t}function tt(e){return{from:ce()(e).startOf("week").toDate(),to:ce()(e).endOf("week").toDate()}}var at=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).handleDayChange=function(e){a.setState({selectedDays:et(tt(e).from)}),a.props.onSelectWeek(et(tt(e).from))},a.handleDayEnter=function(e){a.setState({hoverRange:tt(e)})},a.handleDayLeave=function(){a.setState({hoverRange:void 0})},a.handleWeekClick=function(e,t,n){a.setState({selectedDays:t})},a.handleYearMonthChange=a.handleYearMonthChange.bind(Object(u.a)(a)),a.state={month:Xe,hoverRange:void 0,selectedDays:[]},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"handleYearMonthChange",value:function(e){this.setState({month:e})}},{key:"render",value:function(){var e=this,t=this.state,a=t.hoverRange,n=t.selectedDays,o=n.length>0,l={hoverRange:a,selectedRange:o&&{from:n[0],to:n[6]},hoverRangeStart:a&&a.from,hoverRangeEnd:a&&a.to,selectedRangeStart:o&&n[0],selectedRangeEnd:o&&n[6]};return r.a.createElement("div",{className:"SelectedWeekExample card"},r.a.createElement(Qe.a,{className:"bg-white",selectedDays:n,showOutsideDays:!0,modifiers:l,onDayClick:this.handleDayChange,onDayMouseEnter:this.handleDayEnter,onDayMouseLeave:this.handleDayLeave,month:this.state.month,fromMonth:Xe,toMonth:$e,captionElement:function(t){var a=t.date,n=t.localeUtils;return r.a.createElement(_e,{date:a,localeUtils:n,onChange:e.handleYearMonthChange})}}),7===n.length&&r.a.createElement("div",null,ce()(n[0]).format("LL")," \u2013"," ",ce()(n[6]).format("LL")),r.a.createElement(qe.a,null,r.a.createElement("style",null,"\n            .SelectedWeekExample .DayPicker-Month {\n              border-collapse: separate;\n            }\n            .SelectedWeekExample .DayPicker-WeekNumber {\n              outline: none;\n            }\n            .SelectedWeekExample .DayPicker-Day {\n              outline: none;\n              border: 1px solid transparent;\n            }\n            .SelectedWeekExample .DayPicker-Day--hoverRange {\n              background-color: #EFEFEF !important;\n            }\n\n            .SelectedWeekExample .DayPicker-Day--selectedRange {\n              background-color: #fff7ba !important;\n              border-top-color: #FFEB3B;\n              border-bottom-color: #FFEB3B;\n              border-left-color: #fff7ba;\n              border-right-color: #fff7ba;\n            }\n\n            .SelectedWeekExample .DayPicker-Day--selectedRangeStart {\n              background-color: #FFEB3B !important;\n              border-left: 1px solid #FFEB3B;\n            }\n\n            .SelectedWeekExample .DayPicker-Day--selectedRangeEnd {\n              background-color: #FFEB3B !important;\n              border-right: 1px solid #FFEB3B;\n            }\n\n            .SelectedWeekExample .DayPicker-Day--selectedRange:not(.DayPicker-Day--outside).DayPicker-Day--selected,\n            .SelectedWeekExample .DayPicker-Day--hoverRange:not(.DayPicker-Day--outside).DayPicker-Day--selected {\n              border-radius: 0 !important;\n              color: black !important;\n            }\n            .SelectedWeekExample .DayPicker-Day--hoverRange:hover {\n              border-radius: 0 !important;\n            }\n          ")))}}]),t}(r.a.Component),nt=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={selectedWeekDays:[]},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(j.a,Object.assign({},this.props,{size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),r.a.createElement(j.a.Header,{closeButton:!0},r.a.createElement(j.a.Title,{id:"contained-modal-title-vcenter"},"Select Week")),r.a.createElement(j.a.Body,null,r.a.createElement(at,{onSelectWeek:function(t){return e.setState({selectedWeekDays:t})}})),r.a.createElement(j.a.Footer,null,r.a.createElement(S.a,{onClick:function(){return e.props.onSelectWeek(e.state.selectedWeekDays)}},"Ok")))}}]),t}(n.Component),rt=a(1046);function ot(e){return r.a.createElement(rt.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Officer"),r.a.createElement("th",null,"Sun"),r.a.createElement("th",null,"Mon"),r.a.createElement("th",null,"Tue"),r.a.createElement("th",null,"Wed"),r.a.createElement("th",null,"Thu"),r.a.createElement("th",null,"Fri"),r.a.createElement("th",null,"Sat"))),r.a.createElement("tbody",null,e.data.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,e.name),e.weeklyReport.map((function(e,t){return r.a.createElement("td",{key:t},e)})))}))))}function lt(e){return r.a.createElement(rt.a,{striped:!0,bordered:!0,hover:!0,size:"sm",responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Officer"),r.a.createElement("th",null,"Jan"),r.a.createElement("th",null,"Feb"),r.a.createElement("th",null,"Mar"),r.a.createElement("th",null,"Apr"),r.a.createElement("th",null,"May"),r.a.createElement("th",null,"Jun"),r.a.createElement("th",null,"Jul"),r.a.createElement("th",null,"Aug"),r.a.createElement("th",null,"Sept"),r.a.createElement("th",null,"Oct"),r.a.createElement("th",null,"Nov"),r.a.createElement("th",null,"Dec"))),r.a.createElement("tbody",null,e.data.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,e.name),e.monthlyReport.map((function(e,t){return r.a.createElement("td",{key:t},e)})))}))))}var ct=a(505),st={zoomIn:{animation:"x 0.7s",animationName:he.a.keyframes(pe.zoomIn,"zoomIn"),width:"100%"}},it=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).onSearch=function(e){e.preventDefault(),"Weekly"===a.state.reportFrequency?a.getWeeklyReports():a.getMonthlyReports()},a.onSelectIncidentType=function(e){a.setState({complaintTypeToSearch:e.target.value,weeklyReports:[],monthlyReports:[],csvData:[]}),e.target.value.includes("All")&&a.setState({complaintTypeToSearch:""})},a.onChangeReportFrequency=function(e){a.setState({reportFrequency:e.target.value,weeklyReports:[],monthlyReports:[],weekDays:[],csvData:[]}),"Monthly"==e.target.value&&a.setState({disableGenerateButton:!1}),"Weekly"==e.target.value&&a.setState({disableGenerateButton:!0})},a.state={isLoading:!1,complaintTypeToSearch:"",reportFrequency:"Weekly",complaintTypes:[],showWeekPicker:!1,weekDays:[],selectedWeek:null,weeklyReports:[],monthlyReports:[],monthlyYear:"2020",csvData:[],csvTitle:"report",disableGenerateButton:!0},a.getComplaintTypes=a.getComplaintTypes.bind(Object(u.a)(a)),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"getComplaintTypes",value:function(){var e=this;this.setState({isLoading:!0}),fetch("".concat("https://tricycle-monitoring.herokuapp.com","/api/reportTypes"),{method:"GET",headers:J()}).then(O).then((function(t){console.log(t),e.setState({complaintTypes:[]}),e.setState({complaintTypes:t,isLoading:!1})})).catch((function(e){console.log(e)}))}},{key:"getWeeklyReports",value:function(){var e=this;this.setState({isLoading:!0,csvData:[]});var t="";this.state.weekDays.map((function(e,a,n){n.length-1===a?t+="".concat(ce()(e).format("YYYY-MM-DD")):t+="".concat(ce()(e).format("YYYY-MM-DD"),",")})),fetch("".concat("https://tricycle-monitoring.herokuapp.com","/api/report/weeklyByCase?dates=").concat(t,"&type=").concat(this.state.complaintTypeToSearch),{method:"GET",headers:J()}).then(O).then((function(t){console.log(t),e.setState({weeklyReports:t,isLoading:!1}),e.generateWeeklyCsv(t)})).catch((function(t){console.log(t),e.setState({isLoading:!1})}))}},{key:"getMonthlyReports",value:function(){var e=this;this.setState({isLoading:!0,csvData:[]}),fetch("".concat("https://tricycle-monitoring.herokuapp.com","/api/report/monthlyByCase?year=").concat(this.state.monthlyYear,"&type=").concat(this.state.complaintTypeToSearch),{method:"GET",headers:J()}).then(O).then((function(t){console.log(t),e.setState({monthlyReports:t,isLoading:!1}),e.generateMonthlyCsv(t)})).catch((function(t){console.log(t),e.setState({isLoading:!1})}))}},{key:"generateWeeklyCsv",value:function(e){if(e.length>0){var t=[["Officer","Sun","Mon","Tue","Wed","Thu","Fri","Sat"]];e.map((function(e){var a=[e.name].concat(Object(H.a)(e.weeklyReport));t.push(a)})),this.setState({csvData:t}),this.setState({csvTitle:"Resolved ".concat(ce()(this.state.weekDays[0]).format("MMM DD YYYY")," - ").concat(ce()(this.state.weekDays[6]).format("MMM DD YYYY")," - ").concat(""!==this.state.complaintTypeToSearch?this.state.complaintTypeToSearch:"All Case")})}}},{key:"generateMonthlyCsv",value:function(e){if(e.length>0){var t=[["Officer","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"]];e.map((function(e){var a=[e.name].concat(Object(H.a)(e.monthlyReport));t.push(a)})),this.setState({csvData:t}),this.setState({csvTitle:"Resolved Monthly ".concat(this.state.monthlyYear," - ").concat(""!==this.state.complaintTypeToSearch?this.state.complaintTypeToSearch:"All Case")})}}},{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.getComplaintTypes()}),500)}},{key:"render",value:function(){var e=this,t=this.state,a=t.isLoading,n=t.complaintTypes,o=t.csvData,l=t.csvTitle,c=(t.weekDays,t.disableGenerateButton);return r.a.createElement("div",null,r.a.createElement(z.a,{className:"rounded shadow-sm bg-white justify-content-left ml-3 mr-3"},r.a.createElement(z.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(z.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(Y.a,{className:"mr-auto"},r.a.createElement("h5",null,"Resolved Incidents")),r.a.createElement(y.a,{onSubmit:this.onSearch,inline:!0},r.a.createElement(y.a.Control,{className:"mr-sm-2",as:"select",onChange:this.onChangeReportFrequency},r.a.createElement("option",null,"Weekly"),r.a.createElement("option",null,"Monthly")),"Weekly"===this.state.reportFrequency?r.a.createElement(y.a.Control,{className:"mr-sm-2",as:"select",onClick:function(){return e.setState({showWeekPicker:!0})}},r.a.createElement("option",null,"Select Week")):r.a.createElement(y.a.Group,null,r.a.createElement(y.a.Label,null,"Year"),r.a.createElement(y.a.Control,{className:"mr-sm-2 ml-2",as:"select",value:this.state.monthlyYear,onChange:function(t){return e.setState({monthlyYear:t.target.value})}},r.a.createElement("option",null,"2020"),r.a.createElement("option",null,"2019"),r.a.createElement("option",null,"2018"),r.a.createElement("option",null,"2017"),r.a.createElement("option",null,"2016"))),r.a.createElement(y.a.Control,{className:"mr-sm-2",as:"select",onChange:this.onSelectIncidentType},r.a.createElement("option",null,"Complaint Type - All"),n.map((function(e,t){return r.a.createElement("option",{key:t},e)}))),a?r.a.createElement(w.a,{variant:"primary",animation:"border"}):r.a.createElement(S.a,{type:"submit",disabled:c},"Generate Report")))),this.state.showWeekPicker&&r.a.createElement(nt,{show:this.state.showWeekPicker,onHide:function(){return e.setState({showWeekPicker:!1})},onSelectWeek:function(t){return e.setState({weekDays:t,showWeekPicker:!1,csvData:[],weeklyReports:[],disableGenerateButton:t.length<=0})}}),r.a.createElement(oe.a,{style:{overflow:"auto",padding:"0px",height:"83vh"}},r.a.createElement(ge.a,null,r.a.createElement(p.a,null,o.length>0&&r.a.createElement(ct.CSVLink,{data:o,filename:"".concat(l,".csv"),className:"btn btn-info",target:"_blank",style:{margin:"10px 0 10px 0"},onClick:function(e){return o.length>0}},"Download CSV"),"Weekly"==this.state.reportFrequency&&7===this.state.weekDays.length&&r.a.createElement("div",{className:"card shadow-sm mt-2 pt-2"},r.a.createElement("h5",null,ce()(this.state.weekDays[0]).format("LL")," \u2013"," ",ce()(this.state.weekDays[6]).format("LL")," (",""!==this.state.complaintTypeToSearch?this.state.complaintTypeToSearch:"All Case",")"),this.state.weeklyReports.length>0&&r.a.createElement("div",{style:st.zoomIn},r.a.createElement(ot,{data:this.state.weeklyReports}))),"Monthly"==this.state.reportFrequency&&r.a.createElement("div",{className:"card shadow-sm mt-2 pt-2"},r.a.createElement("h5",null,"Resolved Monthly ",this.state.monthlyYear," (",""!==this.state.complaintTypeToSearch?this.state.complaintTypeToSearch:"All Case",")"),this.state.monthlyReports.length>0&&r.a.createElement("div",{style:st.zoomIn},r.a.createElement(lt,{data:this.state.monthlyReports})))))))}}]),t}(n.Component),mt=window.matchMedia("(min-width: 800px)"),ut=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={currentUser:null,sidebarDocked:mt.matches,sidebarOpen:!1,title:""},a.mediaQueryChanged=a.mediaQueryChanged.bind(Object(u.a)(a)),a.toggleOpen=a.toggleOpen.bind(Object(u.a)(a)),a.onSetSidebarOpen=a.onSetSidebarOpen.bind(Object(u.a)(a)),a.onSelectRoute=a.onSelectRoute.bind(Object(u.a)(a)),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){mt.addListener(this.mediaQueryChanged)}},{key:"onSetSidebarOpen",value:function(e){this.setState({sidebarOpen:e})}},{key:"toggleOpen",value:function(){this.setState({sidebarOpen:!this.state.sidebarOpen})}},{key:"mediaQueryChanged",value:function(){!0===mt.matches?this.setState({sidebarDocked:null!=this.state.currentUser,sidebarOpen:!1}):this.setState({sidebarDocked:mt.matches,sidebarOpen:!1}),console.log(mt.matches)}},{key:"componentDidMount",value:function(){var e=this;I.currentUser.subscribe((function(t){return e.setState({currentUser:t,sidebarDocked:null!=t&&mt.matches,sidebarOpen:!1})}))}},{key:"componentWillUnmount",value:function(){mt.removeListener(this.mediaQueryChanged)}},{key:"onSelectRoute",value:function(e){console.log(e),this.setState({title:e}),this.toggleOpen()}},{key:"render",value:function(){return r.a.createElement(x.a,{basename:"/prince-mercado"},r.a.createElement(B.a,{sidebar:r.a.createElement(De,{routes:dt,onSelect:this.onSelectRoute}),open:this.state.sidebarOpen,docked:this.state.sidebarDocked,onSetOpen:this.onSetSidebarOpen,sidebarClassName:"sidebar-bg",rootClassName:"bg-gray"},this.state.currentUser&&r.a.createElement(je,{toggleOpen:this.toggleOpen,sideBarDocked:this.state.sidebarDocked,title:this.state.title,user:this.state.currentUser}),r.a.createElement(P.d,null,r.a.createElement(P.b,{exact:!0,path:"/prince-mercado/",render:function(){return r.a.createElement(P.a,{to:"/dashboard"})}}),r.a.createElement(A,{exact:!0,path:"/reports",component:Ce}),r.a.createElement(A,{exact:!0,path:"/users",component:Ge}),r.a.createElement(A,{exact:!0,path:"/dashboard",component:Je}),r.a.createElement(A,{exact:!0,path:"/analytics",component:it}),r.a.createElement(P.b,{exact:!0,path:"/login",component:T}),r.a.createElement(P.b,{exact:!0,path:"/:role/setPassword/:userId/:token",component:Re}),r.a.createElement(P.b,{path:"*",render:function(){return r.a.createElement(P.a,{to:"/dashboard"})}}))))}}]),t}(n.Component),dt=[{path:"/dashboard",title:"Dashboard"},{path:"/reports",title:"Reports"},{path:"/users",title:"Users"},{path:"/analytics",title:"Analytics"}],pt=ut;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.Component;l.a.render(r.a.createElement(pt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},178:function(e,t,a){},325:function(e,t,a){e.exports=a.p+"static/media/tricycle.d7bf20e6.png"},508:function(e,t,a){e.exports=a(1033)},516:function(e,t,a){},517:function(e,t,a){},520:function(e,t,a){},593:function(e,t){},595:function(e,t){},635:function(e,t){},636:function(e,t){},763:function(e,t,a){e.exports=a.p+"static/media/sanpablo.658c141c.png"},770:function(e,t,a){},854:function(e,t,a){},855:function(e,t,a){e.exports=a.p+"static/media/reset-password-icon.41517f0e.jpg"},856:function(e,t,a){},99:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAP1BMVEXx8PCqqqmnp6bPz8708/Otrazu7e3b2trr6uqkpKPV1NTi4eG1tLSxsLDl5OS9vLzCwsHIx8e+vr3MzMvZ19gaUtbVAAAFMElEQVR4nO2d27qbIBBGRUfxfEjy/s9aiLutuzZR4TcM7lmXucr6gBkYEJJEEARBEARBEARBEARBEARBEARBEOKD/hL6r+AxUmWj6zqz1LVuyktpGhl9H9ouVyq1KJV37XDXF5GkpKyH2esb9qehLpPYJSnRU/ev3MKym3TUjqZ3DvlLv1kyH3S8nbVo2uq939Oxapsi9F91gvpp0+43Ux9hM5J+Pf7W7djp2BSpHPf7PR3HMipH6ttjgkaxjamnUnNY0Co20ShSrY4LGkVVR6JI2kFvJo54Y4Kos2EUIZWa3FnQTMkjGIvlgTS4Ju3K0AKbHMyDK8UxtMAWdz9Bo3gPrfAWv0E4w3sokkOmXzViy9iQMn9Bo5jxVezdM+GSrg8t8hJIE9pGDC3yit4/zMzkTBuRvDPFb9I7z5FIqCY0jcjSkB6oJjSN+OCoSDeg4Y2jIShVzHBMGGZhj4Tjcn/CdVLTTafQOmvKASio1MBvndhDBZViNxBJIzup6absKjaYZcXCkN0CA5kNn4bsMiK1UEGl2K2DCZnvLR07Q7CgUuwMscPQDER2hhXYsBLDT/MDDK8/Dq9vCBZkmC1wZagZdsWoHzBrwy6AzRKYneH11xbQMo0t1LAzvP4K+PJVjKQHG7KrROG21mYYbrCV2ITY8quXFtB0kd4YHoy+fFUfmy74JQubLpChJueXLH7A/mFSIINpyzDQJOR5KnFJOjLspAnVQEOOW8Am5+PKbRW/fG+5/Hka4EDkOQyRCyiGS6eZEpUR2R5nL0DdNB05ZkML7NAQz1xhuf4Z4WSAnPMeQmu8BjOtYTqhmcHszzAWhCR9run+iwbQhE1oibf4p0S+yXAGkBI5xxmLd9mUYaH0O74Jg3Wq+MJvlZiH/vvb+NVNOdZJV3iNRPaj8IlPOK1D//ldeBROWZZJ11DjOhJT1p8ALyDHRVTK7oTJSxy/6M55z0i/kTkZsv049j+UDv00Zfgh0GuoOV7hr2IJMzPHZzZRzGaWHD24wPJownsOVhY5VxBfQMcKGnENwhk6kjJiG4Rf7D5hw/H0zD72nhtmXOTe4PKGu9fCcax7/0OzN2F0EU25l9Bjp6BSLK/B2MHlY+mBWU2EM5rk2OQ7umn3k2K3nyW6ebcRPLQITof4FO+HmlAp3pcJrnHYZYtgS2ZJ5lDFiKkQVey/q3zJFMtYJOe9mTaKO72pzJxugrakKovAUXudi0oHHVrgPdSPG689bCrmI9+72aloxh2vPWw6VmNTcJSkQo/OA/AfRzVqdo5E2dZrJIcc8yHj9HKJ7Z6g5ltIKjadlfr6tnoJCOKY3urwUYeonzp4+/1xVN3Uh+ytVPR1B4iebyWrru4D9VYbPIHB5Y1kHiS0UnJvP+I3O7b3zz58ZYPnKcHljWT6wdBKxePTfl+Oj484Eun2tOC54aja818wM+3n9UKHt2R3djtq8DU0Do63E9dXlHwmPWwo5uNZcbWoGfhZ0rw+o6JD5RjabMEJr7RRD/lqC0U6oOfkjg+NnQf8CbP9m52f4wH0w97qgQJ4O4jHU3HnAlMsObagJUed4QBe6YEF9YQZ9lkHLJDvM8CXeGFBnDVCXsqCB/GpG/zqVSyAW1AczqR/ksr7wBj61k40/reAQu+3OgPvj8Ggd5Sdge+BMZ4z0iW+s1PwK05n4Jkv0Jfn4vE99CeG4RFDMRTD8IihGP4AQ66FxL/4lhQpUylnAN9mks44gygKE2/8BQVBEARBEARBEARBEARBEARBEARhJ78AIwhTb1cHN38AAAAASUVORK5CYII="}},[[508,1,2]]]);